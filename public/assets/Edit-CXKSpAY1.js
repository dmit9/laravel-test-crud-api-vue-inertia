import{C as b,f as u,o as d,a as o,u as s,m as V,w as f,b as l,d as y,i as w,F as _,r as k,t as h,j as x,n as U,e as j}from"./app-COn3urlr.js";import{_ as B}from"./GuestLayout-D9ivfFJf.js";import{_ as m,b as r,a as p}from"./TextInput-DKt-GxrQ.js";import{P as C}from"./PrimaryButton-Bc5Bb6bX.js";import"./Navbar-4Zk6FVPN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"mt-4"},N=["src"],$={class:"mt-4"},q={class:"mt-4"},E={class:"mt-4"},F=["value"],P={class:"mt-4 flex items-center justify-center"},O={__name:"Edit",props:{positions:Array,user:Object},setup(c){const i=c,e=b({name:i.user.name,email:i.user.email,phone:i.user.phone,position_id:i.user.position_id,photo:null}),g=n=>{e.photo=n.target.files[0]},v=()=>{const n={...e};(!e.photo||typeof e.photo=="string")&&delete n.photo,e.post(route("update",i.user.id),{data:n,forceFormData:!0})};return(n,t)=>(d(),u(_,null,[o(s(V),{title:"Dashboard"}),o(B,null,{default:f(()=>[l("form",{onSubmit:y(v,["prevent"])},[l("div",D,[l("img",{src:i.user.photo?"/public/storage/"+i.user.photo:"/public/storage/images/default.jpg"},null,8,N),o(m,{for:"photo",value:"Upload"}),l("input",{type:"file",onInput:g,id:"photo"},null,32),o(r,{class:"mt-2",message:s(e).errors.photo},null,8,["message"])]),l("div",null,[o(m,{for:"name",value:"Name"}),o(p,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),l("div",$,[o(m,{for:"email",value:"Email"}),o(p,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(e).email,"onUpdate:modelValue":t[1]||(t[1]=a=>s(e).email=a),required:"",autocomplete:"email"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),l("div",q,[o(m,{for:"phone",value:"Phone"}),o(p,{id:"phone",type:"phone",class:"mt-1 block w-full",modelValue:s(e).phone,"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).phone=a),required:"",autocomplete:"phone"},null,8,["modelValue"]),o(r,{class:"mt-2",message:s(e).errors.phone},null,8,["message"])]),l("div",E,[t[4]||(t[4]=l("label",{for:"position"},"Choose position ",-1)),w(l("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>s(e).position_id=a),class:"w-full",name:"position_id",id:"position_id"},[(d(!0),u(_,null,k(c.positions,a=>(d(),u("option",{key:a.id,value:a.id}," id: "+h(a.id)+" name: "+h(a.name),9,F))),128))],512),[[x,s(e).position_id]])]),l("div",P,[o(C,{class:U(["ms-4",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:f(()=>t[5]||(t[5]=[j(" Update ")])),_:1},8,["class","disabled"])])],32)]),_:1})],64))}};export{O as default};
